\documentclass[nolof,digital]{fithesis3}
\thesissetup{faculty=fi}
\thesissetup{author=Bc. Lukáš Tyrychtr,id=422294, departmentEn = Faculty of Informatics, programmeEn = Applied Informatics, fieldEn = Applied Informatics, assignment = {}}
\thesissetup{type= mgr}
\thesissetup{title=Feel the streets - a visually impaired user access to OSM maps}
\thesissetup{keywords = {visually impaired, navigation, accessibility, Open Street Map, usability}}
\usepackage[english]{babel}
\usepackage{alltt}
\usepackage{listings}
\usepackage{csquotes}
\usepackage[hidelinks]{hyperref}
\usepackage[style=ieee,sorting=nty,block=ragged]{biblatex}
\renewbibmacro*{bbx:savehash}{} %disabling dashing
\addbibresource{bibliography.bib}
\usepackage{tabularx}
\usepackage{placeins}
\usepackage{tabu}
\usepackage{algorithm2e}
\SetAlCapSkip{3mm}
\thesislong{abstract}{

}
\thesissetup{advisor=Ing. Milan Brož\, Ph.D.}
\thesislong{thanks}{
}
\thesisload
\setcounter{tocdepth}{2}
\begin{document}
\chapter{Introduction}
\chapter{Map presentation approaches}
This chapter describes the various approaches which were used to present maps to visually impaired people, mainly focusing on tactile maps and various application for smart phones and desktop operating systems.
\section{Printed maps}
This section describes the usage of printed maps.
\section{Mobile phone apps}
This section explores the various mobile phone apps used for navigation by visually impaired people as well as the usability of standard map applications on the respective mobile phone operating systems.
\subsection{Google maps}
\subsection{Apple maps}
\subsection{Lazarillo}
\subsection{Where am i}
\subsection{Naviterier}
\subsection{Osmant}
\subsection{Dotwalker}
\subsection{Right here}
\subsection{Ariadne GPS}

\section{Desktop apps}
\subsection{Plánovač tras Google}
In this section, the few desktop applications for navigation purposes are explored.
\chapter{Feel the streets}
This chapter describes the implementation of Feel the streets, an application for browsing Open Street Maps data by visually impaired people, its features, implementation decisions and some noteworthy events in the application development.
\section{Feature overview}
From the user's perspective, Feel the Streets is a desktop application which, when launched, allows the user to browse OpenStreetMap maps without sight.
\subsection{Area selection}
After startup, the application presents a list of the available areas from which the user can choose one which he wants to browse. This list is usually retrieved from the Feel the Streets server, so it includes all the available areas, but when there is no network connectivity, the locally available areas are shown instead.

The areas list shows the area's name, last modification and creation times formatted according to the user's locale preferences, the area size and its state. The state represents the status of the area's database and it usually reports that the area is updated. Other states exist as well, namely states for an area which is just being created, for which we are just now retrieving the incremental changes or we are applying them. A special concept of frozen areas exists, these areas can be downloaded, but after creation, no changes are applyed on them, which is useful for research reproducibility.

From the area selection window the user can also request an area which is not yet available. If he does so, he is prompted for the area's name and if there are multiple candidates, he is then offered the list of the areas to specify which one he actualy means. This selection process is helped by including all the area properties in the candidate details window.

By selecting an area a set of steps starts. If he selected area is not yet downloaded to the user's computer, the download is performed. If it is, the application checks for all the changes which occurred to the area between the last check and now and applies them. After these steps, the user ends up in the main window.
\subsection{the main window}
The main window of the application is seemingly simple - just an empty window with a menubar on top. Despite this, it is the central piece of the user interface of the application.

This is the window where the actual map exploration occurs. Because of that, it contains all the relevant commands.

The first group of commands allows the user to move in the environment. It allows him to do a forward and backward step, turn around in 5 and 90 degree increments, rotate by a given amount and jump to a particular set of GPS coordinates.

The next group of commands allows the user to determine his location. He can request a short summary of it, or he can request a more detailed view of it using the near by objects window, which is described in a subsequent subsection. The user can also request a list of near by objects. Usually some objects are not considered (like routes and similar relatively big objects), but the user can request the location or near by objects without ignoring these.

The next group of commands provides various additional information about the application's state. These additional commands include reporting the user's current GPS coordinates, his direction or they allow him to browse the history of spoken messages during the current application run, the speech history is not saved between restarts of the application.

There is also a set of commands which allows toggling some of the application settings.
\subsection{Search}
The application also allows performing searches in the data. There are two search facilities.

The first is a simple search based on a partial name match. The user can enter a part of the desired name and every object which has that particular substring in its name tag is returned.

When the name search is not sufficiently detailed, the user can use the advanced search. In this mode he is first required to select which kind of object he wants to search (everything with an address, shops, buildings etc). After the selection, he can specify additional conditions based on the selected entity's fields. For strings it is possible to use exact or partial matches, for numbers, all the usual operators are available. The user can specify any number of conditions which are then combined into the final query as if there was a logical and operator between them.

In both of the search modes the results are displayed using the same window which is used for the near by objects.
\subsection{The objects list window}
This window is used for displaying a list of objects. This list can come from a near by query, a search, or it can be a result of a parent/child query as well.

The window shows a list of objects represented as short descriptions of them, in each case it contains the entity class of it and some details (like the name, amenity type) for some of the classes. In addition, when an object is selected, all the properties (basically OpenStreetMap tags when not counting some renaming of the tag names) are displayed. In addition, the user can expand a part of the properties which contains the revision information including the last changed date, the user who did the change, the changeset number and this section also shows the id of the object which is the OpenStreetMap id prefixed by a letter (n for nodes, w for ways and r for relations) to allow the user to communicate exactly which object might require some fixes, for example.

The window also allows performing additional actions of some of the objects. The more useful of these actions include opening a website related to the object or opening its Wikipedia entry. The actions also allow viewing the parents (e. g. the relations or ways which contain the given object) or the object's children. From the parents, it is for example possible to determine the public transport line related to a railway.
\subsection{Navigational sounds}
During navigation, the application plys some sounds to help the user in visualizing the relationships between the object positions and distances.

As a first clue, it plays sounds for some objects, currently for land areas, shops and trash cans. These sounds are played on the correct 3d cartesian coordinates so the relationships between them are preserved.

In addition to these sounds, the application also plays sounds for crossings.

Both of these groups of sounds can be turned on and off, if desired.
\subsection{Automatic announcements of interesting objects}
To help the user discover potentially interesting objects, the application automatically announces some of the near by entities. This announcement uses much shorter distance than the near by objects scan, because for now, the object is announced regardless of its reachability, so it might be possible that an object is announced even if it is behind some other buildings, for example.

These announcements can of course be turned off using a configuration option.
\section{Technical overview}
This section describes the currently used technologies which are used by the Feel the Streets client and server. The technologies have changed quite extensively during the development, so the Development history section then presents the various choices which were made during the lifetime of the application.

As of now (commit f316b17d63), the application is comprised of two major components and some supporting libraries and utilities. The major components are the client and server applications, respectively. They share the area database access layer through python bindings.
\subsection{THe client}
The client is the main application which all the users interact. It handles downloading of the area databases, applying updates and browsing the respective areas.

The client application is written in the Python programming language. Python was chosen mainly because it was familiar and had good library support for all the subsystems.

For the user interface, the Qt library is being used as it has the best cross platform accessibility story despite some mainly Windows specific issues.

For the sound engine, the client application uses OpenAL and the HRTF extension. That means that the OpenAL Soft library is required.
\subsection{The server}
The server mainly handles management of area databases. It handles the area creation requests from the clients and to help the clients keep their local databases updated it also creates a list of changes which the clients can download afterwards.

It is written in the Rust programming language, mainly for speed and memory usage reasons. The static typing helped the development as well, it was not so uncommon to find an error which a statically typed language would prevent.

For storage of the area databases the Sqlite3 library is used. To perform the needed geospatial queries, the Spatialite extension is being used.

For communication with the client application the server exposes a HTTP API for area lists, download requests and similar functionality. 

For storing the area changes a Rabbitmq server is used. It allows to keep the queue semantics quite easily. The clients do not have full administrative access to the Rabbitmq server when connecting, they are limited by an access control list and the connection is also secured using Transport layer security.

To keep the number of additional components as low as possible, Rabbitmq is also used for background tasks storage and for background task scheduling. The scheduling uses the message's time to live and it instruct Rabbitmq to put the message to the ready messages queue after the TTL expires.

The server uses compression extensively to minimize the storage requirements. The main savings are by compressing the individual area database changes before putting them to the Rabbitmq queue. The compression uses the Zstd compression algorithm which allows, among other things, to use a pretrained compression dictionary for compression, which gives much better results than compressing the individual messages on its own - it gave an improvement at least of 50\% in message sizes on average.

To help discover new kinds of amenities and other enum like tags during the processing of areas and to find other anomalies in the assumed schema of the OSM data (type violations, unknown properties etc.), a record of these events is logged during the operation and it is stored for further analysis. The processing application however is not implemented yet. Or more correctly, the features were lost during the Rust rewrite which is described in a following section.
\subsection{The shared library}
The handling of area databases is actually implemented in a shared library, called osm\_db, which is called from the server code and from Python as well. To allow calling the library from Python, creating a binding library was necessary. Fortunately, by using the Pyo3 Rust library, that efford was relatively straightforward. The Python library does not expose the entire public API of osm\_db, only the parts which the client application requires, which means basically the complete query API and a way to apply database changes.
\subsection{The addministrative command line application}
To allow performing some maintenance and related tasks for the server, such as requesting clients to perform redownload of an area, doing a rename of a field and some more actions, a command line application which interacted with the server side area databases and queues was implemented.
\section{Development history}
This section presents the development history of Feel the Streets, the various approaches used and their advantages and disadvantages. It also mentions some of the accessibility issues which are further described in the issues encountered along the way section. This section does not describe each commit of the Feel the Streets repository, it mentions only the more important ones.
\subsection{The beginnings}
The first commit of the Feel the Streets project occurred on the 18th of August 2017. At this time, the application's GUI used the Wx widgets library and there was no server component. The area database access was handled using the sqlalchemy library and it used the sqlalchemy's table inheritance features, so there was a separate table for each entity class.

The next commit, which was quite huge, added the initial implementation of the database update logic.

In commit 683215bbe1, the search functionality was added.
\subsection{Table inheritance removal}
It turned out, mainly because of the search functionality, which required quite huge joins and it managed to cross the Sqlite3's maximum column count for a query result as well, that the approach which used a separate table for each entity was not sustainable. As a result, in commit 3a02c10710 the area database structure was changed so all the entities were stored in a single table with the entity properties stored in a json object. This storage approach survived to the current version of Feel the Streets, except for some minor modifications. The application representation stayed largely similar, the entity classes kept a Python class, but these classes existed only for the application and used the Pydantic data validation library.
\subsection{Bookmarks appear}
In commit dbb8a71b2b the initial support for bookmarks was added. The bookmarks were stored in the area database, which was changed in commit 30d56506d9 to allow safe area redownloads. To accomplish this, a database stored in the user's application data directory was introduced. Bookmarks underwent The last change of the bookmark representation occurred in commit 49bc7331ae which added the direction the user was facing when creating the bookmark which was not stored before.
\subsection{The server is born}
Because of the need to update the area databases incrementally and not downloading them each time, commit 8fe9a7548f introduced a concept of semantic changes of OSM objects. The following commit introduced the server component and moved the update logic there and in commit fab61d9f61 the server API was introduced.

When the server API was in place, commit d791a35bad allowed the users to select a map. 

And some commits later, when the server's capability to run an update of all area databases was deemed stable enough, commit b2fd5c4943 implemented the client side of area updates.
\subsection{Object actions}
In commit 62a1454247 the framework for executing actions on object was introduced. Some commits later, the wikipedia and wikidata open actions were implemented along with other website like things which could e opened, like the ruian details of a czech building.
\subsection{The rustification efford}
Because of the languages used, the server memory consumption and speed was not ideal. To improve the situation, a quite drastic measurement was taken starting from commit 67b194c60a, the entire server component was small piece at a time rewritten into Rust. That required rethinking the way how the entity properties and generator property mappings are stored, so the server used a few yaml files to store the entity classes and their properties, the enums inherent in the data and the translation transformations. The server rewrite efford was merged into master in commit 42a9e4762a.

In commit b5b9ea13a1 the creation of python bindings of osm\_db has started. That allowed getting rid of the python entity classes and access to the area database was unified at last.

Along with the rewrite the administrative application was rewritten as well, however not all features were implemented, for example, generating missing OSM enum members from a record of the missing values was not yet implemented despite the support for logging the schema violations during creation and update requests is in place.
\subsection{Area names are not enough}
Up until commit acf47daa00 the server assumed that areas will have unique names. The fact that it might not be true was not the reason for the changes in the mentioned commit, the reason was just a curiosity whether it is possible to generate an area database for Antwerpen and finding out that the previous entity retrieval query chose the wrong area for it. As a result, the ids of the OSM areas began to be stored instead.

This was then used in commit ab8940113c which allowed the user to select an area when the requested area name was not unambiguous.
\subsection{The move to OpenAL}
In commit 21d703b0e4 the entire sound subsystem was changed from using the Fmod library to OpenAL. The reasons for the change included much easier installations under Linux - the OpenAL library was in all the needed package repositories and usage of the OpenAL's HRTF capabilities became possible as well.

The previously mentioned HRTF support was not used until commit 7f6997cd54, however.
\subsection{Changing the GUI library}
While doing Linux testing of Feel the Streets, it turned out that the Wx widgets tree control completely lacks accessibility on that platform. Rather than trying to fix it and push that change through review, a change to a different GUI library was chosen as the solution. Qt was chosen as it was reasonably accessible on all platforms. The rewrite started in commit 864a478d3e and was mainly finished a commit after.
\subsection{Continuous integration and deployment}
During the Rust rewrite, a continuous integration configuration was started in commit 78cb752449. When it was created, it only built the source code, but deployment was also added so after a successful build the binaries were pushed to the server where the API ran. This work was finished in commit 90d4e4afec. This version of the CI process was running only on Linux, however.

That changed in commit 3117283f7d and some time later, namely in commit 42c673ef9b we were building something resembling a Windows binary.

Some months later, Travis CI policy to ward open source repositories began to change, so in commit acc0e75618 the Travis CI configuration was dropped after the GitHub Actions configuration mainly worked.
\subsection{Interesting objects appear}
Mainly due to some discussions with the thesis advisor, the commit 9e861a7780 introduced the concept of interesting objects. The subsequent commits implemented announcing these and moving until one is found.
\subsection{Drop the synthetic ID}
Mainly due to the need to conserve any space, possible, commit 1978dfa944 dropped auto-incrementing ids for entities in the entity databases and started using the id of the OSM entity prefixed by its type instead.

To make the interesting objects more useful, the commit ffe2566d94 added a way for interesting objects to emit a sound.
\subsection{Keeping the OSM relationships}
Up until commit 64a5a5a650 the processing step did not preserve the relationships, so it was not possible to determine which nodes were part of a way or relation. This fact was deemed useful enough for future improvements that the relationships were added to the area databases.

After that, commit 5dd07d459f added a client side possibility to view the parents and children of an OSM object.

In addition to the relationships inherent from the OSM data, commit 6d65d9421c extended the entities relationships to allow arbitrary relationship types like streets of an entity and addresses as well. 
\subsection{Making crossings useful}
To be as helpful as possible, in commit 58f932d6a4 the application started describing crossings when the user entered them. Making this at least somewhat right was not an easy task, so the exact details are described in the Issues encountered along the way section.

To help the user find them more easily, in commit 3348fc5772 a sound which played on their positions was added.
\subsection{Getting rid of one object relational mapper}
When profiling the startup times of the Feel the Streets client, it turned out that using the Sqlalchemy library for interactions with the database which stored bookmarks and last locations added a significant startup time cost. So in commit 2e5e6438ea Sqlalchemy was replaced by direct database calls.
\subsection{Avoiding footways}
Because of some more discussions during the previews of the state of Feel the Streets during that time period, it was decided that it would be useful to allow the user to avoid footways as much as possible. That started in commit 6ccdbe9522. There were some fixes needed to make this functionality work, but they will be described in the encountered issues section in more detail.
\subsection{Making things smaller}
To be as space efficient as possible, commit 18cf5ad1bd added compression for raw OSM objects which resulted from a query. It also disabled removing this cache. That allowed update times to shorter, because when computing a geometry of an object we did not need to request the entities which comprised the parent's geometry (e. g. all nodes for a way etc.) if they did not change.

To make some more things smaller, commit e3894ed98a introduced compression for the semantic changes so they weren't published uncompressed to the change queues.
\subsection{Frozen areas}
To help the upcoming usability study be as reproducible as possible, commit 7f17848c42 introduced a concept of a frozen area which does not receive updates during the normal areas update procedure. Subsequent commits teached the rest of the codebase about them and allowing freezing already existing areas using the administrative command line interface.
\subsection{Message of the day}
To allow informing the testers of a possible important update, commit de86753ebe added a concept of a message of the day and the next one added the client capabilities.
\subsection{Fixing the sound positioning}
Just after starting the user study, one of the testers discovered a pretty serious sound positioning related issue which sparked a chain of commit starting with commit a9b92a9704 and ending by commit 0930afcecb. As this issue deserve a more thorough description, it is described in the encountered issues section as well.
\section{Issues encountered along the way}
This section describes the various issues encountered during the development of Feel the Streets. Many of them were related to the OSM data or the data model, but there were some accessibility related issues as well.
\subsection{Representing crossings}
During much of the development of Feel the Streets, when an user entered a crossing, only the standard messages for entered roads were announced. That was deemed unsuitable and not informational rich, so a special message was added to the application. That resulted in a series of bug fixes for various corner cases which this section describes.

The first bunch of issues was related to the announcements of the ways you could turn on a road. Due to a broken computation, the possibility of letf turns was hidden for a time. Also, the application reported turns which turned the user about 0 degrees as well, which was not necessary.

Another issue with the crossing announcements logic was that you were notified about a crossing, but the fact that the road which lead you to it actually continued was hidden from the user. That was remedied in commit 0e127d6900. Of course, the additio was not flawless, it turned out that filtering turns about zero degrees does not help when you want to know for how long you can go along the current road, that's the reason why commit 1046631dae exists.

Another bug related to the crossing announcements was actually in the logic which determined which objects are currently intersecting with your position. Up until that time, the spatial intersection query for quickly ruling most of the entities through a R Tree based index assumed a rectangle without size. That however caused an inability to enter the crossing entity when it lay on the geometric intersection of two roads. This issue was fixed in commit 8cbc40c987.

Of course, real world crossings can have more than two roads meet in the crossing. The continuation announcements logic did not account for that, however, so it had to be changed and what the user entered had to be taken into account. These changes happened in commit 7f9edf1034.

Some crossings posed another challenge. For these a road continued more or less straight but with a different name. Up until commit d9aebc79fc, this event was announced as crossing of a road. This revision however changed the logic such that these events were announced as road continuations with a changed name.

When the user entered a road until commit c5221a8783, the road announcement logic only took into account the roads which the user entered. However, these entry points usualy weren't in the point where the geometric intersection of the roads actually lay, so there could be more roads which crossed there, but the user did not enter them yet (mainly roads with pretty sharp turn angles). This commit began actively searching for all the crossing roads and in commit c9748062d7, the user was actually moved to the geometric crossing so the entity entering machinery had all the data it needed to produce the correct messages.

Commit 66f6813d78 fixed another set of crossing reporting issues. The first was related to the type of crossing where you enter it, a differently named road continues for example left, and the right turn is a road with the same name as the one you used to enter the crossing. In this case, the user should be informed about the turn, but until this commit, the duplicate name filtering logic, which allowed the user to not know about roads split because of a different set of tags prevented the announcement. On the other hand, entering a crossing with two roads of the same name was not filtering the second as well, so this commit fixed that case as well.

When you enter  a crossing in the real world, it is obvious that you can not continue in the current direction, but the Feel the Streets users were not notified about that fact unil commit 1ecfecb491 which added these announcements. In commit 93443975d8 the message was made more specific and started to mention the road which was ending on the crossing.
\subsection{Footways}
Another area of behavior which changed quite a lot was footway handling. As footways do not usually have names in the OpenStreetMap data, they were quite confusing, at least for the thesis supervisor, so the footway avoidance logic was added - see the development history for more details.

It turned out that disallowing entering of all footways was not the right move, so commit 539f09b71e allowed entering footways when the current object was a footway. That was not enough, unfortunately. It turned out that roads sometimes can cross footways so it is not uncommon to be on a road and a parallel footway at the same time, so commit 6662cd7da0 added this exception. The last movement behavior which was complicated by a footway was fixed in commit 3c9656a20e. In this case, when the user had to cross a footway because he was nearing a crossing, for example, this was not previously allowed even if the user's intent was clear. SO in this commit it was allowed when the user was near enough to the cener of some road which was not a footway.

To help the user in making sense of the footway situation, commit babb5deff8 added a capability to announce the closest road or address.
\subsection{Accessibility issues}
Despite it not being as common, some accessibility issues were discovered along the project's development. The first was fixed in commit b59c596555 and was related to some quite weird NVDA announcements in a treeview when the treeview had all items removed. The reason for the issue was not sought further, the workaround was deemed sufficient.

The second was discovered after the switch to Qt. The issue was that on Windows, screen readers were not announcing the collapsed/expanded state of a treeview. The cause was discovered to be related to Qt's UI Automation handling which did not expose this information. A bug report for this issue already existed in the Qt bug tracker, but it did not receive any useful comments.

During the user study a pretty weird behavior of a QT application was discovered. When a QT application had a console window (e. g. it was not marked as a GUI only app) and you launched it from file explorer or another way when a separate console window could not be reused, it behaved quite differently in some aspects regarding the accessibility support. The main issues of this behavior were that any movement inside a text field was not announced by screen readers, the user had to first expand a combobox before interacting with the items (so it behaved like a combobox under Linux) and screen readers did not announce content of QMessageBox windows. The root cause of this issue was not investigated further because it was much easier to remove the console window for the application.
\subsection{Sound positioning issues}
During the first day of testing, one of the testers discovered a set of serious issues related to the sound ue positioning and behavior of the sounds in general. Firstly, the sounds did not keep the relative angles to each other when transformed from GPS coordinate to cartesian space. It turned out that using the ECEF projection was usable, but it did not keep spatial relationships. To fix this, commit f204bc8c02 changed the used projection to an exact transverse mercator one. This rewrite also allowed untangling the weird coordinate system mapping.

Another issue were audio artifacts which manifested when turning around or approaching a sound source. The sound position was jumping in audibly bigger steps than anticipated and it could even jump in the opposite direction than the user expected. It turned out that usage of coordinates ranging around three or four millions caused some internal rounding issues in the OpenAL library. First attempt on fixing these was commit 49cf08e235 which rounded them to a few decimal places, however that did not help. Even if one of the coordinates was small as a result of the mercator projection being centered on the point of the default start location that did not help in fixing the issues, the one large coordinate was likely still causing the same rounding problems. The final solution was implemented in commit e67526d984 which took the default start location as the coordinate system's origin so the coordinates were quite small, at least in reasonable distances from the origin.
\chapter{Usability study}
Having an application which offers some great functions but is only usable by the application's author is not something which this application did not have as a goal. To discover what is the usability of the application like and what improvements could be made a study was performed in a group of visually impaired users.
\section{Study description}
The study's main goals were to analyze the usability of various parts of the application and to gather possible improvement suggestions.
\section{About the subjects}
The study was undertaken on a group of visually impaired people from Czech republic. The people vere all practically or totally blind and their ages ranged from approximately 15 to 30 years. The people were contacted first around july of 2020, however further needed changes required moving the start of the study to march of 2021. Out of 15 confirmed subjects from the Julyinquiry, 10 actualy managed to undergo the testing and the survey. The rest either did not reply in time or lost interest.
\section{Methodology}
The study consisted of two parts. In the first the participants which agreed with their participation were send an e-mail with some user documentation and scenarios to try while testing Feel the streets along with the download links. They were allowed at least a week so they could try the offered testing scenarios and anything else they wanted to.

There were two testing scenarios. Both of them started from a predefined location in Brno. In the first the users were asked to go straight until the next crossing of two roads. The second let the users through a few crossings near a restaurant.

The second part consisted of a virtual meeting with the participant. The meetings were recorded with agreement of the participants. During the meeting a set of questions was asked. The questions basically explored the various application areas (area selection, request for a new area, main window and the near by objects window) and explored the ease of learning, possible improvements and other aspects, see the following section for more detailed description of the questions. After the area specific questions the system usability scale (we want a citation there) was used to summaryze the application's usability.
\section{The questions and the answers}
In this section, the questions are presented, along with the summarized answers. When a particular participant is mentioned because he for example responded similarly to another, they are represented as P1 to P10.
\subsection{General questions}
These questions were mainly concerned about the user's rough age classification, their visual impairment and computer skills as these general traits can have an inpact in other parts of the study.
\subsubsection{What's your age rounded to 5 years}
The study did not require finer age groups as the computer skills and previous usage of navigation applications plays much important role in the efficiency with which the application can be used. The age distribution is shown in the below table.
\begin{table}
\caption{Age distribution of the study participants}
\begin{tabularx}{\textwidth}{ |X|X| }
Age range & Number of participants \\
\hline
6-10 & 1 \\
11-15 & 1 \\
16-20 & 1 \\
21-25  & 1 \\
26-30 & 4 \\
31-35 & 1 \\
36-40 & 1 \\
\end{tabularx}
\end{table}
As can be seen from the above table, most of them are in the 26 to 30 years group, namely P3, P5, P8 the other groups have a single representative each.
\subsubsection{What's your visual impairment}
Out of all the participants P1, P2, P5, P6 and P8 could see some light. Of these, P2 and P8 could use the visual information for a very limited form of navigation (e. g. could see a near by obstacle).
\subsubsection{How would you rate your computer skills?}
Because Feel the Streets is not one of the simplest applications , the overall user efficiency might be quite dependent on their overall computer skills. That is the reason for the computer skills question. The people could think of any classification they liked. The following table summarizes their answers.
\begin{table}
\caption{The results of the computer skills question}
\begin{tabularx}{\textwidth}{ |X|X| }
Classification & Number of participants \\
\hline
Advanced & 6 \\
averagely advanced & 2 \\
above average & 1 \\
I can Google anything i need & 1 \\
\end{tabularx}
\end{table}
Because of the source of the candidates the data show above average number of advanced computer users. However this does not have any correlation in how positive the users rated the application.
\subsection{Usage of other navigation applications}
In this section, the subjects were asked which other navigation applications they use and how often. The ways in which they used them were also asked.
\subsubsection{Which navigation applications do you use}
Only 4 of the participants responded that they use only a single navigation application, namely P1, P2, P3 and P9. The applications which were used alone were Google and Apple maps, Blindsquare and Lazarillo. Other mentioned applications included Where am I, Dotwalker, Osmant, right here, Naviterier, Ariadne GPS and Plánovač tras Google.

Out of the applications, Blindsquare was mentioned 4 times by participants P2, P4, P8, and P10, Google and Apple maps 4 times (Google maps by participants P3, P4, P5 and P6, Apple maps by participants P5, P6, P9 and P10), Lazarillo three times by participants P1, P7 and P10 and Plánovač tras Google two times by participants P6 and P8. The rest of the applications was mentioned only once.
\subsubsection{How often do you use them and how}
When asked how often the users used the applications, one responded that he uses the applications often, the "I use the applications every day" answer was also mentioned once. Two respondents replied that they use these applications once a week.

The five remaining answers which claimed that they use these applications rarely deserve further comment. Two of these were more specific stating that GPS related inaccuracies which render the turn by turn directions not accurate enough prevented them from using the applications more often.

Only the users which used the applications more than a week were able to provide descriptions how they use them. They use them when going through an unknown route or when they want to look around, however, Feel the Streets has in their opinion better spatialization capabilities.
\subsection{Generally about Feel the Streets}
These questions generally explored what the participants tried with Feel the Streets and also gathered general opinions.
\subsubsection{What did you try}
Every of the participants tried both of the testing scenarios.

Also, every of the participant tried something else. What they tried was somewhat diverse, but generally they were looking for their homes with various levels of success.
\subsubsection{What do you generally think}
The opinions were largely positive. Three users (P1, P3 and P6) mentioned that fixing some things would make the application even better. One respondent even called the application a great innovation. Two of the users called the application great, however one of them was afraid about the continued development of the application which is, according to his opinion, needed. One user mentioned that such an application was missing on the market to which a diffrent user added that the application will surely help the visually impaired in showing an unknown area. Every opinion was not so optimistic, however. One user called the application a nice project and one user mentioned a missing documentation clarification even in this preliminary question.
\subsection{Area selection}
These questions were related to the first screen which the user encounters, the area selection screen.
\subsubsection{How was it hard to learn}
Everyone said that learning this window was easy. One person called the window very easy, however, from the responses it could likely be said about all the users.
\subsubsection{How could this area be made easier to use}
This particular window did not receive much improvement requests, however, there actually were five suggestions.

In the first making the request a new area shortcut unique was requested which will surely be addressed as this is only an error in the czech localization files.

The second feature request offered that it would be useful to be able to return to the area selection window even without restarting the whole application.

Another user was unsure whether a separate request area button is needed and would be fine if the edit box would be in the main area selection window.

One of the other users looked farther to the future and noticed that when the number of areas grow, it might be very useful to group them by continent, country or region.

The same user also thought about a much more sophisticated download management user interface which would allow you starting multiple area downloads, pausing them and similar.

He also noticed that the area states should be localized which is true but was not done due to the fact that getting the translation template generation machinery to pick up these strings is not straightforward.

The last suggestion was more related to the sound design and noted that because the numbering of areas in the list is not announced, the user is not notified when he reached the end of the areas list. To remedy this, adding a sound when the user reaches the edge of the list was offered as a solution.
\subsubsection{How was it hard to remember and what was hardest}
According to the responses there was not any issue remembering this window.
\subsubsection{How satisfied you were with this part of the application}
All the participants were satisfied, the suggestions which they made were only suggestions and would not change the user experience much, maybe except for the sophisticated downloads interface.
\subsection{New area request UI}
The next set of question was related to the area requests interface.
\subsubsection{Did you try this functionality}
Only three participants (P1, P2 and P10) used the functionality during their testing. The remaining ones did not, however they tried it during the meeting except for two (P8 and P7) which could not try it due to the fact that they were not near a computer.
\subsubsection{How was it hard to learn}
When the users tried the functionality all of them called the interface easy. One of them however hoped for better area selection heuristics, for example for hiding areas which an user would not want to download, but on the other hand he would want to download city districts which is not working in the current search model.
\subsubsection{How could this area be made easier to use}
There were only three suggestions, each person brought one of them.

The first suggestion was related to the fact that as of now, after the area is successfully requested it does not appear in the areas list before the application is restarted. That confused the user and should be fixed.

ANother suggestion called for adding country filters to the area search. 

And the last feature request requested some sort of autocomplete fnctionality for area names.
\subsubsection{How was it hard to remember and what was hardest}
All the users did not have any issues remembering this particular user interface.
\subsubsection{What would you say about error states handling}
When an error occurred, for example an area was not found, all the users found the handling of the event intuitive and understandable.
\subsubsection{How satisfied you were with this part of the application}
All users were satisfied with this application area and did not find the lack of their suggested functionality limiting.
\subsection{The main window}
This part of the study explored various usability of the main window and related features like the actual navigation.
\subsubsection{How was it hard to learn}
Learning this particular window was much more difficult than the previous areas, at least for some users.

For one the number of keyboard shortcuts posed a challenge, so he rated the learnability as somewhat hard.

For another one, the fact that in the real world not all angles are 90 or 45 degrees apart posed a difficulty and made changing his direction somewhat more cumbersome.

In another case the representation of the relative direction was pointed out as a potential source of something that you have to think about.

In another case the user approved of showing the shortcuts in the menus so the learning was not hard.

Four of the respondents classified the learnability as okay despite that for one of them the current location command was not working for some reason.

There was even a case of an user who classified the window's learnability as easy.
\subsubsection{How could this area be made easier to use}
For this window, the number of suggestions was much bigger, some of these even repeated.

Three users requested a way how to make a side step, e. g. a step in the perpendicular direction without turning.

There were three users for whom the second window with the console output was confusing. As it turned out, the window was not only a nuisance for some but it also caused (maybe indirectly) some accessibility related issues, see details in the accessibility issues section.

For two users, the turn about command was confusing and they suggested that replacing it with a set direction command would be less complex for users to handle.

There were also two cases of suggestions which wanted a simpler way for address based searches. They basically wanted a text input where they could write the address and the parsing would be done by the application.

Another user noticed that the current main menu lacks the standard system menu which is basically in every other Windows GUI application and suggested adding it for consistency reasons.

One user wondered whether it would not be useful to add 45 degree turn commands, however from how he formulated the suggestion he was not certain that they would be infact useful.

Another user suggested adding a mode which is basically the opposite of the currently implemented behavior where the application prevents you leaving roads, so it would not allow the user to leave footways instead.

There was an user who brought multiple improvement suggestions. The first was related to the fact that the program menu has only a single item which looks somewhat weird, as he put it. In his second suggestion, he came up with a suggestion how to make the main window not so empty and at least partially useful for sighted people by adding a read only text field where the current location, maybe with a configurable number of previous locations would be shown with the current GPS coordinates.

The same user also thought that the current 5 degree turns could be changed to 10 or maybe even 15 degree ones.

His last suggestion was related to the search results window. He noted that in the search case after you move to an object the window could be closed automatically.
\subsubsection{How was it hard to remember and what was hardest}
The memorability story reflects the learnability results quite well. For all people except one it was okay, one noted the number of keyboard commands.
\subsubsection{What would you say about error states handling}
Despite there being a few error states like disallowed leaving of some roads, all people found the behavior okay.

One user thought that he would remove the longer error messages as he found them unnecessary.
\subsubsection{How satisfied you were with this part of the application}
The reactions were largely positive. In one case the participant responded that he see no problem in using the window as is now. ´The remaining nine users said that it is okay, one with the addition that getting used to the fact that it is more complex than some audio game windows takes some time.
\subsubsection{Would adding a 180 degree turn command help}
The response for this question was in nine cases a definitive yes. Only one thought that doing two 90 degree turns is okay.

There was an user who managed to talk about the potential 180 degree turn command's shortcut for at least five minutes.
\subsubsection{Is announcing degrees sufficient during manual direction changes}
The responses for this question were also easy to interpret. Nine people found the current announcements during a manual turn okay and did not offer any suggestions for improvements.

One user found the behavior okay but added that he would add a special otification when the user reaches a well known direction (north, west, south or east).
\subsubsection{How are you satisfied with announcements of interesting objects}
When asked how the users are satisfied with the behavior of interesting object announcements, five replied that they would make them more configurable and likely allow the user to select exactly which objects should be treated as interesting.

Making the criteria for interesting objects configurable would solve at least three more specific issues. One user found trash cans not interesting, another one found the inclusion of street lamps questionable instead. There was also an user who would like to be stopped because of each near by address.

It would also likely necessitate creation of an config window which one user also noted.

Two users noted that using relative degrees from the user's current direction adds unnecessary mental load and they would use clock positions instead. They would also allow the user to choose how the angles should be represented. One would also use the chosen relative degree representation as the input for the turn about functionality.

There were also users which commented the sounds of the interesting objects. One would add more specific sounds and another would add a default sound for any interesting objects to make it clear for the user when he arrives in an area with many interesting objects.

Another sound related suggestion offered to make a specific sound when the user reaches a crossing.

For now the interesting objects start making sounds in the same distance as they are announced. That was noticed by an user which recommended to make both distances configurable separately.

One  user was confused why the map contains multiple stop entities for a stop which has physically two platforms.
\subsubsection{Did you use the ctrl+shift+l command}
Six users did not use it and when presented with it did not find it missing. Four others tried it, but only because they were testing everything they could.
\subsection{Objects browser}
The next set of questions was related to the window which shows a list of objects.
\subsubsection{How was it hard to learn}
The answers showed that learning this particular window was not hard. Three users called it easy, four called it okay, one had to learn a little before he could call it that, however. Two users called it pretty easy, even. The last user just said that he liked the window.
\subsubsection{How could this area be made easier to use}
This window did not receive as many sugestions as the main one. Six users did not have any suggestions.

One wanted to be able to browse object description, distance and direction separately.

Another user wanted to be able to perform a context dependent ctrl+c command depending on the focused control - either the object description or a single property.

The last suggestion was related to the behavior of the object actions. For now, only actions which are applicable to the currently selected objects are shown. The one user would rather want to see all of them but disabled when not applicable.
\subsubsection{How was it hard to remember and what was hardest}
The memorability was in 9 cases okay, but in one case the user had an issue with remembering the shortcuts which would open the commands.
\subsubsection{How satisfied you were with this part of the application}
The satisfaction was okay in all cases.
\subsubsection{Did you notice the object actions}
The discoverability of the object actions was rather poor, only 4 users noticed them, the rest did not.
\subsubsection{What would make them more discoverable}
When asked how the users would make the menu more obvious four of them answered that they would announce its presence in a help string, or in the window's title.

Another four users would rather remove the main menu and add context menus to the appropriate places instead.

One user which also suggested the context menu offered another way - add the actions as buttons after the properties tree view.

The last way how to handle the discoverability situation which turned out was that a button would be added which, when pressed would show the object actions.
\subsubsection{Which other actions would be useful}
When asked which other actions would be useful, two people suggested adding an action which would turn you wards to the selected object.

One other person would add a command which would report the GPS coordinates of an object.

ANother suggestion was related to the information about stops and similar objects. It is possible to discover the lines which use that stop, but the presentation is not much useful, so adding something better would be useful.

Another user would be really happy if it would be possible to add indoor maps for some objects, especially buildings.

Another, somewhat related suggestions were related to restaurants and shops. THe gist of the suggestion is that the action would at least open a reservation interface for restaurants or some sort of a purchase interface for shops.
\subsection{About getting lost}
These questions explored whether the users got lost and if yes, how it would be possible to help them in finding their way.
\subsubsection{Did the user managed to get lost}
All of the test subjects got lost at least once.
\\subsubsection{If you managed to get lost, which information would help in finding your way}
When asked what would help them find their way, two replied that a history of visited streets which would allow returning to the given street would help.

Another suggestion which appeared twice was a concept of a tracked object. Such object would make a sound and there would be a command which would tell you your distance and direction to it.

Somewhat similar suggestion was a concept of a ephemeral bookmark. That bookmark would not be saved in the database, would not have a name and there would be a command which would allow jumping to these bookmarks.

Another facility which was suggested by one user was a concept of a radar like scan which would tell the user near by objects by a sound and read their names.

The last two users did not bring any new tools to not get lost. One was confused by the automatic direction corrections and the second responded that getting lost was only is fault.
\subsection{System usability scale}
To help classify the usability in a numeric way, the system usability scale was used.

In average, the application received a system usability score of 81.25. The best achieved score vas 97.5 and the worst was 65.

\subsection{Do you want to add anything}
When the users answered everything else, they had a chance to add whatever they wanted. The users however said everything they wanted during the previous questions, so this part of the interview did not bring any new information.
\subsection{Feature requests}

During the interview the users brought some feature requests which did not fit anywwhere else.

Two users would like to see support for navigation along a route.

One user wanted to add a speaker test.

There was also an user who wanted to replace the stop speech command key by the ctrl key which is used basically by all screen readers.

 A somewhat more ambitious suggestion was to add some sort of visual presentation of the map, or, to make things more interesting, a 3D map export functionality.

Three bugs were also discovered. One was related to some inconcistencies of window titles, the second was related to the behavior when a sound device disappears or the default output device is changed. And the last was was related to the fact that the stop speech command sometimes does not work under Linux.
\subsection{Other notes}
This section presents a few notes which did not fit anywhere else.

Six users were annoyed about the behavior of the Qt spin boxes.

One user noted that he likes benches in the map data, another one liked bookmarks instead.

One user noted that it would be useful to document the default step length.

And one did not look enough in the menu and did not notice the search commands.
\chapter{Conclusion}
\section{In summary}
\section{Future work}
\end{document}